<script src="/function/hangul.js" type="text/javascript"></script>
<script src="/function/keyboard.js" type="text/javascript"></script>
<script type="text/javascript">
	var keyboardhidden = document.getElementsByClassName("keybar");

	
    $(document).ready(function() {
		var typeSelect = document.querySelector("select[name=type_select]");

		console.log(typeSelect.value);
		var keyboardzone = document.getElementById("keyboardzone");
		var input = document.getElementById("search_name");

		var keyboard = new customKeyboard(
		keyboardzone/*생성위치 태그*/,
		input/*input을 받을 태그*/, 
		
        function()/*클릭 했을때*/ {
            console.log("click : ", text);
        },
        function(e)/*앤터 눌렀을때*/ {
            console.log("앤터 : ", text);
				search();
        }, 
        null/*키패드를 모양 값*/
       
    );

	input.addEventListener("click", function() {
        // keydiv[nowlang].style.visibility = "visible";
		keyboardhidden[0].style.visibility = `visible`
        //input 태그를 자신으로 설정
        keyboard.setInput(this);
        //키패드 클릭 이벤트 설정
        keyboard.setClick(function(text) {
            console.log("input을 click한 후 : ", text);
        })
        //앤터 이벤트 설정
        keyboard.setEnter(function(e) {
            console.log("input을 click한 후 앤터 : ", text);
				search();
        });

    })
	$("#search_name").focus();
	
	$('#type_select').change(function(){
		$("#type_result").val($("#type_select").val());
	});
	
	/*$("#search_company").keydown(function(e){
		console.log("???????????");
		if(e.keyCode == 13) search();
	});
	
	$("#search_name").keydown(function(e){
		console.log("???????????")
		if(e.keyCode == 13) search();
	});*/

	// Element 에 style 한번에 오브젝트로 설정하는 함수 추가
	Element.prototype.setStyle = function(styles) {
		for (var k in styles) this.style[k] = styles[k];
		return this;
	};
});

	function search() {
		var name = $("#search_name").val().replace(/ /g, '').trim()
		$("#search_name").val(name);

		var seqNo = $("#type_select option:selected").val();
		var input = document.getElementById("search_name");

		console.log("seqNO :::", seqNo);
		console.log("name :::", name);

		//if(name == ''){
		//	alert("이름 또는 졸업기수를 선택해주세요");
		//	return false;
		//}
		var frm = document.searchForm;
		frm.target = '_self';
		frm.action = 'search_data';
		frm.submit();

		input.value = '';
		//typeSelect.value = '';
		keyboardhidden[0].style.visibility = `hidden`
		$("#type_select").val('');

	}

	// function reset_chk(){
	// 	document.getElementById('search_name').value = null;
	// }
</script>

<style type="text/css">
	input[type=number]::-webkit-inner-spin-button,
	input[type=number]::-webkit-outer-spin-button {-webkit-appearance: none; margin: 0; } 
	.table_bottom{text-align: center;}
	.table_bottom .btn_big_black{width: 80px; background: #1e2545;}
	.search_table input[type~="checkbox"]{margin-right: 5px;width: 15px; height: 15px;}
	.filter_wrap{background-color: #e7ebf1;height: 60px;padding: 15px 0; border:1px solid #ccc;}
	.filter_wrap table{height: 100%; }
	.search_table .search_list{margin: 20px 0;}
	.search_table .search_list tr th{width: 50px;}
	.search_table .search_list tr td{width: 6%; padding: 10px 15px;}
	.search_table .search_list tr td input{width:230px; border:0px;}
	.search {position: absolute; left: 50%; transform: translateX(-50%); text-align: center;}

	.search_button {background-color:#666;width: 50px;height: 30px;margin-left:20px;font-size:14px;font-weight: bold; color:#fff; border-radius: 5px;}
	.search_table { width: 96%; text-align: center;margin: 10px auto;}
	.search_table td {width: 100px; text-align: left;}
	.search_table th {width: 3px; text-align: left;font-size: 16px; font-weight: 400;}
	.search_table tr {text-align: center; }
	.search_table .search_list .td_empty {width:30px;}
	.search_table .search_list .selectBox {width:265px; border:1px solid #ccc;border-radius: 4px;}
	.search_table .search_list .border_style {border:1px solid #ccc; padding:20px 0 20px 0;}
	.search_table .search_list .td_style {padding: 5px 0px 5px 0px;}
	.search_table .search_list .background_color {background-color: #e7ebf1;}
	.search_table .search_list .input_style {height:43px; margin-left:6px; text-align:left; padding-left: 10px;}
	.search_table .search_list .inputs {width: 56px; border:1px solid #ccc;border-radius: 4px; text-align: right;}
	.search_table .search_list .text_center {text-align:center; font-weight: bold;}
	
	.search_table .div_set {margin-top: 15px;}
		
</style>

<div style="font-size: 30px; text-align: center; ">친구 또는 동문의</div>
<div style="font-size: 100px; text-align: center; font-family: 'Black Han Sans', sans-serif;" >이름을 입력하세요</div>
<div style="width: 90%; margin: 10px auto; padding-bottom: 10px; display:flex; align-items:center;">
	
	
	<div class="search_table">
		<form action="/search_data" id="searchForm" name="searchForm" method="POST" autocomplete="off" target="_self">
		<input type="hidden" id="type_result" name="type_result" value="and_select"/>
		
		<select id="type_select" name="type_select" style="height: 100px; width: 100px; border: 4px solid #ccc; text-align: center;">
			<option value="" selected>졸업기수</option>
				<% for(var k=1; k<=datadb[0].orgmem_seqNo; k++){ %>
					<option value="<%=k%>"> <%=k%>회
					</option>
				<% } %>
			
		</select>
		<input id="search_name" name="search_name" type="text" style="border: 4px solid #ccc; width: 70%; margin: 10px auto; padding-bottom: 10px; line-height: 80px; font-size:xxx-large;" placeholder="예) 홍길동">
			<input type="button" value="검 색" onclick="search()" class="" style="border-radius: 10px; height: 100px; padding: 0px 30px 0px 30px; background-color: #FF7F50; color: #fff; font-size: xx-large;">
		</form>
	</div>
	
</div>
<!-- <div>
	<input type="button" value="검색초기화" onclick="reset_chk()" class="btn_big_black" style="background: #0d23bd; float: right; border-radius: 5px;">
</div> -->
</div>
<div id="keyboardzone" style="display: flex; justify-content: center;"></div>